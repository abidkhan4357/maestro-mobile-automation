# SauceLabs Demo App Login Test
# Navigate via hamburger menu to login screen and test login functionality
# Usage: maestro test src/flows/android/login.yaml

appId: com.saucelabs.mydemoapp.android
tags:
  - login
env:
  TEST_NAME: "android_login_standard_user"
  PLATFORM: "android"
---
# Load login test data
- runScript: ../../../data/login-data.js

# Launch the SauceLabs demo app
- launchApp:
    appId: com.saucelabs.mydemoapp.android
    clearState: true

# Tap hamburger menu
- tapOn:
    id: "com.saucelabs.mydemoapp.android:id/menuIV"

# Tap on Login menu item
- tapOn: "Log In"

# Enter login credentials - using 'standard' user explicitly
- tapOn:
    id: "com.saucelabs.mydemoapp.android:id/nameET"
- inputText: ${output.users.standard.email}

- tapOn:
    id: "com.saucelabs.mydemoapp.android:id/passwordET"
- inputText: ${output.users.standard.password}

# Hide keyboard to ensure UI elements are accessible
- hideKeyboard

# Tap LOGIN button
- tapOn:
    id: "com.saucelabs.mydemoapp.android:id/loginBtn"



# Click on hambuger menu
- tapOn:
    id: "com.saucelabs.mydemoapp.android:id/menuIV"

# Assert log out is visible
- assertVisible: Log Out
